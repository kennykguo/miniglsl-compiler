; SPIR-V
; Version: 1.0
; Generator: MiniGLSL Compiler
; Bound: 186
; Schema: 0
; ===== miniglsl fragment shader prologue =====
OpCapability Shader
%ext = OpExtInstImport "GLSL.std.450"
OpMemoryModel Logical GLSL450
OpEntryPoint Fragment %main "main" %mglsl_Color %gl_FragCoord %mglsl_FragColor %mglsl_TexCoord
OpExecutionMode %main OriginLowerLeft

; ---- decorations ----
OpDecorate %gl_FragCoord BuiltIn FragCoord
OpDecorate %mglsl_Color Location 0
OpDecorate %mglsl_FragColor Location 0
OpDecorate %mglsl_TexCoord Location 1
OpDecorate %env1 Location 2
OpDecorate %env2 Location 3
OpDecorate %env3 Location 4
OpDecorate %mglsl_Light_Half Location 5
OpDecorate %mglsl_Light_Ambient Location 6
OpDecorate %mglsl_Material_Shininess Location 7

; ---- types ----
%t_void = OpTypeVoid
%t_fn = OpTypeFunction %t_void
%t_float = OpTypeFloat 32
%t_bool = OpTypeBool
%t_int = OpTypeInt 32 1
%t_vec2 = OpTypeVector %t_float 2
%t_vec3 = OpTypeVector %t_float 3
%t_vec4 = OpTypeVector %t_float 4
%t_bvec2 = OpTypeVector %t_bool 2
%t_bvec3 = OpTypeVector %t_bool 3
%t_bvec4 = OpTypeVector %t_bool 4

; ---- pointer types ----
%t_ptr_input_vec4 = OpTypePointer Input %t_vec4
%t_ptr_uniform_vec4 = OpTypePointer UniformConstant %t_vec4
%t_ptr_output_vec4 = OpTypePointer Output %t_vec4
%t_ptr_func_float = OpTypePointer Function %t_float
%t_ptr_func_vec2 = OpTypePointer Function %t_vec2
%t_ptr_func_vec3 = OpTypePointer Function %t_vec3
%t_ptr_func_vec4 = OpTypePointer Function %t_vec4

; ---- interface variables ----
%mglsl_Color = OpVariable %t_ptr_input_vec4 Input
%gl_FragCoord = OpVariable %t_ptr_input_vec4 Input
%mglsl_TexCoord = OpVariable %t_ptr_input_vec4 Input
%mglsl_FragColor = OpVariable %t_ptr_output_vec4 Output

; ---- uniforms ----
%env1 = OpVariable %t_ptr_uniform_vec4 UniformConstant
%env2 = OpVariable %t_ptr_uniform_vec4 UniformConstant
%env3 = OpVariable %t_ptr_uniform_vec4 UniformConstant
%mglsl_Light_Half = OpVariable %t_ptr_uniform_vec4 UniformConstant
%mglsl_Light_Ambient = OpVariable %t_ptr_uniform_vec4 UniformConstant
%mglsl_Material_Shininess = OpVariable %t_ptr_uniform_vec4 UniformConstant

; ---- shared constants ----
%c_float_0 = OpConstant %t_float 0.0
%c_float_1 = OpConstant %t_float 1.0

; ---- shader constants ----
%104 = OpConstant %t_float 600.000000
%107 = OpConstant %t_float 0.250000
%109 = OpConstant %t_float 1.000000
%114 = OpConstant %t_float 0.000000
%119 = OpConstant %t_float 0.000000
%126 = OpConstant %t_float 0.500000
%129 = OpConstant %t_float 0.000000
%134 = OpConstant %t_float 1.000000
%139 = OpConstant %t_float 0.000000
%147 = OpConstant %t_float 0.750000
%150 = OpConstant %t_float 0.000000
%155 = OpConstant %t_float 0.000000
%160 = OpConstant %t_float 1.000000
%167 = OpConstant %t_float 1.000000
%172 = OpConstant %t_float 1.000000
%177 = OpConstant %t_float 0.000000
%182 = OpConstant %t_float 1.000000

%main = OpFunction %t_void None %t_fn
%entry = OpLabel
%100 = OpVariable %t_ptr_func_vec4 Function
%101 = OpVariable %t_ptr_func_float Function
%103 = OpLoad %t_vec4 %gl_FragCoord
%102 = OpCompositeExtract %t_float %103 1
%105 = OpFDiv %t_float %102 %104
OpStore %101 %105
%106 = OpLoad %t_float %101
%108 = OpFOrdLessThan %t_bool %106 %107
%110 = OpLoad %t_vec4 %100
%111 = OpCompositeInsert %t_vec4 %109 %110 0
%113 = OpCompositeConstruct %t_bvec4 %108 %108 %108 %108
%112 = OpSelect %t_vec4 %113 %111 %110
OpStore %100 %112
%115 = OpLoad %t_vec4 %100
%116 = OpCompositeInsert %t_vec4 %114 %115 1
%118 = OpCompositeConstruct %t_bvec4 %108 %108 %108 %108
%117 = OpSelect %t_vec4 %118 %116 %115
OpStore %100 %117
%120 = OpLoad %t_vec4 %100
%121 = OpCompositeInsert %t_vec4 %119 %120 2
%123 = OpCompositeConstruct %t_bvec4 %108 %108 %108 %108
%122 = OpSelect %t_vec4 %123 %121 %120
OpStore %100 %122
%124 = OpLogicalNot %t_bool %108
%125 = OpLoad %t_float %101
%127 = OpFOrdLessThan %t_bool %125 %126
%128 = OpLogicalAnd %t_bool %124 %127
%130 = OpLoad %t_vec4 %100
%131 = OpCompositeInsert %t_vec4 %129 %130 0
%133 = OpCompositeConstruct %t_bvec4 %128 %128 %128 %128
%132 = OpSelect %t_vec4 %133 %131 %130
OpStore %100 %132
%135 = OpLoad %t_vec4 %100
%136 = OpCompositeInsert %t_vec4 %134 %135 1
%138 = OpCompositeConstruct %t_bvec4 %128 %128 %128 %128
%137 = OpSelect %t_vec4 %138 %136 %135
OpStore %100 %137
%140 = OpLoad %t_vec4 %100
%141 = OpCompositeInsert %t_vec4 %139 %140 2
%143 = OpCompositeConstruct %t_bvec4 %128 %128 %128 %128
%142 = OpSelect %t_vec4 %143 %141 %140
OpStore %100 %142
%144 = OpLogicalNot %t_bool %127
%145 = OpLogicalAnd %t_bool %124 %144
%146 = OpLoad %t_float %101
%148 = OpFOrdLessThan %t_bool %146 %147
%149 = OpLogicalAnd %t_bool %145 %148
%151 = OpLoad %t_vec4 %100
%152 = OpCompositeInsert %t_vec4 %150 %151 0
%154 = OpCompositeConstruct %t_bvec4 %149 %149 %149 %149
%153 = OpSelect %t_vec4 %154 %152 %151
OpStore %100 %153
%156 = OpLoad %t_vec4 %100
%157 = OpCompositeInsert %t_vec4 %155 %156 1
%159 = OpCompositeConstruct %t_bvec4 %149 %149 %149 %149
%158 = OpSelect %t_vec4 %159 %157 %156
OpStore %100 %158
%161 = OpLoad %t_vec4 %100
%162 = OpCompositeInsert %t_vec4 %160 %161 2
%164 = OpCompositeConstruct %t_bvec4 %149 %149 %149 %149
%163 = OpSelect %t_vec4 %164 %162 %161
OpStore %100 %163
%165 = OpLogicalNot %t_bool %148
%166 = OpLogicalAnd %t_bool %145 %165
%168 = OpLoad %t_vec4 %100
%169 = OpCompositeInsert %t_vec4 %167 %168 0
%171 = OpCompositeConstruct %t_bvec4 %166 %166 %166 %166
%170 = OpSelect %t_vec4 %171 %169 %168
OpStore %100 %170
%173 = OpLoad %t_vec4 %100
%174 = OpCompositeInsert %t_vec4 %172 %173 1
%176 = OpCompositeConstruct %t_bvec4 %166 %166 %166 %166
%175 = OpSelect %t_vec4 %176 %174 %173
OpStore %100 %175
%178 = OpLoad %t_vec4 %100
%179 = OpCompositeInsert %t_vec4 %177 %178 2
%181 = OpCompositeConstruct %t_bvec4 %166 %166 %166 %166
%180 = OpSelect %t_vec4 %181 %179 %178
OpStore %100 %180
%183 = OpLoad %t_vec4 %100
%184 = OpCompositeInsert %t_vec4 %182 %183 3
OpStore %100 %184
%185 = OpLoad %t_vec4 %100
OpStore %mglsl_FragColor %185
OpReturn
OpFunctionEnd
