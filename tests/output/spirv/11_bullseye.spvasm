; SPIR-V
; Version: 1.0
; Generator: MiniGLSL Compiler
; Bound: 191
; Schema: 0
; ===== miniglsl fragment shader prologue =====
OpCapability Shader
%ext = OpExtInstImport "GLSL.std.450"
OpMemoryModel Logical GLSL450
OpEntryPoint Fragment %main "main" %mglsl_Color %gl_FragCoord %mglsl_FragColor %mglsl_TexCoord
OpExecutionMode %main OriginUpperLeft

; ---- decorations ----
OpDecorate %gl_FragCoord BuiltIn FragCoord
OpDecorate %mglsl_Color Location 0
OpDecorate %mglsl_FragColor Location 0
OpDecorate %mglsl_TexCoord Location 1
OpDecorate %env1 Location 2
OpDecorate %env2 Location 3
OpDecorate %env3 Location 4
OpDecorate %mglsl_Light_Half Location 5
OpDecorate %mglsl_Light_Ambient Location 6
OpDecorate %mglsl_Material_Shininess Location 7

; ---- types ----
%t_void = OpTypeVoid
%t_fn = OpTypeFunction %t_void
%t_float = OpTypeFloat 32
%t_bool = OpTypeBool
%t_int = OpTypeInt 32 1
%t_vec2 = OpTypeVector %t_float 2
%t_vec3 = OpTypeVector %t_float 3
%t_vec4 = OpTypeVector %t_float 4

; ---- pointer types ----
%t_ptr_input_vec4 = OpTypePointer Input %t_vec4
%t_ptr_uniform_vec4 = OpTypePointer UniformConstant %t_vec4
%t_ptr_output_vec4 = OpTypePointer Output %t_vec4
%t_ptr_func_float = OpTypePointer Function %t_float
%t_ptr_func_vec2 = OpTypePointer Function %t_vec2
%t_ptr_func_vec3 = OpTypePointer Function %t_vec3
%t_ptr_func_vec4 = OpTypePointer Function %t_vec4

; ---- interface variables ----
%mglsl_Color = OpVariable %t_ptr_input_vec4 Input
%gl_FragCoord = OpVariable %t_ptr_input_vec4 Input
%mglsl_TexCoord = OpVariable %t_ptr_input_vec4 Input
%mglsl_FragColor = OpVariable %t_ptr_output_vec4 Output

; ---- uniforms ----
%env1 = OpVariable %t_ptr_uniform_vec4 UniformConstant
%env2 = OpVariable %t_ptr_uniform_vec4 UniformConstant
%env3 = OpVariable %t_ptr_uniform_vec4 UniformConstant
%mglsl_Light_Half = OpVariable %t_ptr_uniform_vec4 UniformConstant
%mglsl_Light_Ambient = OpVariable %t_ptr_uniform_vec4 UniformConstant
%mglsl_Material_Shininess = OpVariable %t_ptr_uniform_vec4 UniformConstant

; ---- shared constants ----
%c_float_0 = OpConstant %t_float 0.0
%c_float_1 = OpConstant %t_float 1.0

; ---- shader constants ----
%106 = OpConstant %t_float 800.000000
%108 = OpConstant %t_float 0.500000
%112 = OpConstant %t_float 600.000000
%114 = OpConstant %t_float 0.500000
%124 = OpConstant %t_float 0.050000
%126 = OpConstant %t_float 1.000000
%130 = OpConstant %t_float 0.000000
%134 = OpConstant %t_float 0.000000
%140 = OpConstant %t_float 0.100000
%143 = OpConstant %t_float 1.000000
%147 = OpConstant %t_float 1.000000
%151 = OpConstant %t_float 1.000000
%158 = OpConstant %t_float 0.150000
%161 = OpConstant %t_float 0.000000
%165 = OpConstant %t_float 0.000000
%169 = OpConstant %t_float 1.000000
%175 = OpConstant %t_float 0.000000
%179 = OpConstant %t_float 0.000000
%183 = OpConstant %t_float 0.000000
%187 = OpConstant %t_float 1.000000

%main = OpFunction %t_void None %t_fn
%entry = OpLabel
%100 = OpVariable %t_ptr_func_vec4 Function
%101 = OpVariable %t_ptr_func_float Function
%102 = OpVariable %t_ptr_func_float Function
%103 = OpVariable %t_ptr_func_float Function
%105 = OpLoad %t_vec4 %gl_FragCoord
%104 = OpCompositeExtract %t_float %105 0
%107 = OpFDiv %t_float %104 %106
%109 = OpFSub %t_float %107 %108
OpStore %103 %109
%111 = OpLoad %t_vec4 %gl_FragCoord
%110 = OpCompositeExtract %t_float %111 1
%113 = OpFDiv %t_float %110 %112
%115 = OpFSub %t_float %113 %114
OpStore %102 %115
%116 = OpLoad %t_float %103
%117 = OpLoad %t_float %103
%118 = OpFMul %t_float %116 %117
%119 = OpLoad %t_float %102
%120 = OpLoad %t_float %102
%121 = OpFMul %t_float %119 %120
%122 = OpFAdd %t_float %118 %121
OpStore %101 %122
%123 = OpLoad %t_float %101
%125 = OpFOrdLessThan %t_bool %123 %124
%127 = OpLoad %t_vec4 %100
%128 = OpCompositeInsert %t_vec4 %126 %127 0
%129 = OpSelect %t_vec4 %125 %128 %127
OpStore %100 %129
%131 = OpLoad %t_vec4 %100
%132 = OpCompositeInsert %t_vec4 %130 %131 1
%133 = OpSelect %t_vec4 %125 %132 %131
OpStore %100 %133
%135 = OpLoad %t_vec4 %100
%136 = OpCompositeInsert %t_vec4 %134 %135 2
%137 = OpSelect %t_vec4 %125 %136 %135
OpStore %100 %137
%138 = OpLogicalNot %t_bool %125
%139 = OpLoad %t_float %101
%141 = OpFOrdLessThan %t_bool %139 %140
%142 = OpLogicalAnd %t_bool %138 %141
%144 = OpLoad %t_vec4 %100
%145 = OpCompositeInsert %t_vec4 %143 %144 0
%146 = OpSelect %t_vec4 %142 %145 %144
OpStore %100 %146
%148 = OpLoad %t_vec4 %100
%149 = OpCompositeInsert %t_vec4 %147 %148 1
%150 = OpSelect %t_vec4 %142 %149 %148
OpStore %100 %150
%152 = OpLoad %t_vec4 %100
%153 = OpCompositeInsert %t_vec4 %151 %152 2
%154 = OpSelect %t_vec4 %142 %153 %152
OpStore %100 %154
%155 = OpLogicalNot %t_bool %141
%156 = OpLogicalAnd %t_bool %138 %155
%157 = OpLoad %t_float %101
%159 = OpFOrdLessThan %t_bool %157 %158
%160 = OpLogicalAnd %t_bool %156 %159
%162 = OpLoad %t_vec4 %100
%163 = OpCompositeInsert %t_vec4 %161 %162 0
%164 = OpSelect %t_vec4 %160 %163 %162
OpStore %100 %164
%166 = OpLoad %t_vec4 %100
%167 = OpCompositeInsert %t_vec4 %165 %166 1
%168 = OpSelect %t_vec4 %160 %167 %166
OpStore %100 %168
%170 = OpLoad %t_vec4 %100
%171 = OpCompositeInsert %t_vec4 %169 %170 2
%172 = OpSelect %t_vec4 %160 %171 %170
OpStore %100 %172
%173 = OpLogicalNot %t_bool %159
%174 = OpLogicalAnd %t_bool %156 %173
%176 = OpLoad %t_vec4 %100
%177 = OpCompositeInsert %t_vec4 %175 %176 0
%178 = OpSelect %t_vec4 %174 %177 %176
OpStore %100 %178
%180 = OpLoad %t_vec4 %100
%181 = OpCompositeInsert %t_vec4 %179 %180 1
%182 = OpSelect %t_vec4 %174 %181 %180
OpStore %100 %182
%184 = OpLoad %t_vec4 %100
%185 = OpCompositeInsert %t_vec4 %183 %184 2
%186 = OpSelect %t_vec4 %174 %185 %184
OpStore %100 %186
%188 = OpLoad %t_vec4 %100
%189 = OpCompositeInsert %t_vec4 %187 %188 3
OpStore %100 %189
%190 = OpLoad %t_vec4 %100
OpStore %mglsl_FragColor %190
OpReturn
OpFunctionEnd
