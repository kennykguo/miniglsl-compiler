; SPIR-V
; Version: 1.0
; Generator: MiniGLSL Compiler
; Bound: 191
; Schema: 0
; ===== miniglsl fragment shader prologue =====
OpCapability Shader
%ext = OpExtInstImport "GLSL.std.450"
OpMemoryModel Logical GLSL450
OpEntryPoint Fragment %main "main" %mglsl_Color %gl_FragCoord %mglsl_FragColor %mglsl_TexCoord
OpExecutionMode %main OriginLowerLeft

; ---- decorations ----
OpDecorate %gl_FragCoord BuiltIn FragCoord
OpDecorate %mglsl_Color Location 0
OpDecorate %mglsl_FragColor Location 0
OpDecorate %mglsl_TexCoord Location 1
OpDecorate %env1 Location 2
OpDecorate %env2 Location 3
OpDecorate %env3 Location 4
OpDecorate %mglsl_Light_Half Location 5
OpDecorate %mglsl_Light_Ambient Location 6
OpDecorate %mglsl_Material_Shininess Location 7

; ---- types ----
%t_void = OpTypeVoid
%t_fn = OpTypeFunction %t_void
%t_float = OpTypeFloat 32
%t_bool = OpTypeBool
%t_int = OpTypeInt 32 1
%t_vec2 = OpTypeVector %t_float 2
%t_vec3 = OpTypeVector %t_float 3
%t_vec4 = OpTypeVector %t_float 4
%t_bvec2 = OpTypeVector %t_bool 2
%t_bvec3 = OpTypeVector %t_bool 3
%t_bvec4 = OpTypeVector %t_bool 4

; ---- pointer types ----
%t_ptr_input_vec4 = OpTypePointer Input %t_vec4
%t_ptr_uniform_vec4 = OpTypePointer UniformConstant %t_vec4
%t_ptr_output_vec4 = OpTypePointer Output %t_vec4
%t_ptr_func_float = OpTypePointer Function %t_float
%t_ptr_func_vec2 = OpTypePointer Function %t_vec2
%t_ptr_func_vec3 = OpTypePointer Function %t_vec3
%t_ptr_func_vec4 = OpTypePointer Function %t_vec4

; ---- interface variables ----
%mglsl_Color = OpVariable %t_ptr_input_vec4 Input
%gl_FragCoord = OpVariable %t_ptr_input_vec4 Input
%mglsl_TexCoord = OpVariable %t_ptr_input_vec4 Input
%mglsl_FragColor = OpVariable %t_ptr_output_vec4 Output

; ---- uniforms ----
%env1 = OpVariable %t_ptr_uniform_vec4 UniformConstant
%env2 = OpVariable %t_ptr_uniform_vec4 UniformConstant
%env3 = OpVariable %t_ptr_uniform_vec4 UniformConstant
%mglsl_Light_Half = OpVariable %t_ptr_uniform_vec4 UniformConstant
%mglsl_Light_Ambient = OpVariable %t_ptr_uniform_vec4 UniformConstant
%mglsl_Material_Shininess = OpVariable %t_ptr_uniform_vec4 UniformConstant

; ---- shared constants ----
%c_float_0 = OpConstant %t_float 0.0
%c_float_1 = OpConstant %t_float 1.0

; ---- shader constants ----
%105 = OpConstant %t_float 800.000000
%109 = OpConstant %t_float 600.000000
%111 = OpConstant %t_float 1.000000
%115 = OpConstant %t_float 0.500000
%118 = OpConstant %t_float 0.500000
%121 = OpConstant %t_float 1.000000
%126 = OpConstant %t_float 0.000000
%131 = OpConstant %t_float 0.000000
%138 = OpConstant %t_float 0.000000
%143 = OpConstant %t_float 1.000000
%148 = OpConstant %t_float 0.000000
%155 = OpConstant %t_float 0.500000
%158 = OpConstant %t_float 0.000000
%163 = OpConstant %t_float 0.000000
%168 = OpConstant %t_float 1.000000
%175 = OpConstant %t_float 1.000000
%180 = OpConstant %t_float 1.000000
%185 = OpConstant %t_float 0.000000

%main = OpFunction %t_void None %t_fn
%entry = OpLabel
%100 = OpVariable %t_ptr_func_vec4 Function
%101 = OpVariable %t_ptr_func_float Function
%102 = OpVariable %t_ptr_func_float Function
%104 = OpLoad %t_vec4 %gl_FragCoord
%103 = OpCompositeExtract %t_float %104 0
%106 = OpFDiv %t_float %103 %105
OpStore %102 %106
%108 = OpLoad %t_vec4 %gl_FragCoord
%107 = OpCompositeExtract %t_float %108 1
%110 = OpFDiv %t_float %107 %109
OpStore %101 %110
%112 = OpLoad %t_vec4 %100
%113 = OpCompositeInsert %t_vec4 %111 %112 3
OpStore %100 %113
%114 = OpLoad %t_float %102
%116 = OpFOrdLessThan %t_bool %114 %115
%117 = OpLoad %t_float %101
%119 = OpFOrdLessThan %t_bool %117 %118
%120 = OpLogicalAnd %t_bool %116 %119
%122 = OpLoad %t_vec4 %100
%123 = OpCompositeInsert %t_vec4 %121 %122 0
%125 = OpCompositeConstruct %t_bvec4 %120 %120 %120 %120
%124 = OpSelect %t_vec4 %125 %123 %122
OpStore %100 %124
%127 = OpLoad %t_vec4 %100
%128 = OpCompositeInsert %t_vec4 %126 %127 1
%130 = OpCompositeConstruct %t_bvec4 %120 %120 %120 %120
%129 = OpSelect %t_vec4 %130 %128 %127
OpStore %100 %129
%132 = OpLoad %t_vec4 %100
%133 = OpCompositeInsert %t_vec4 %131 %132 2
%135 = OpCompositeConstruct %t_bvec4 %120 %120 %120 %120
%134 = OpSelect %t_vec4 %135 %133 %132
OpStore %100 %134
%136 = OpLogicalNot %t_bool %119
%137 = OpLogicalAnd %t_bool %116 %136
%139 = OpLoad %t_vec4 %100
%140 = OpCompositeInsert %t_vec4 %138 %139 0
%142 = OpCompositeConstruct %t_bvec4 %137 %137 %137 %137
%141 = OpSelect %t_vec4 %142 %140 %139
OpStore %100 %141
%144 = OpLoad %t_vec4 %100
%145 = OpCompositeInsert %t_vec4 %143 %144 1
%147 = OpCompositeConstruct %t_bvec4 %137 %137 %137 %137
%146 = OpSelect %t_vec4 %147 %145 %144
OpStore %100 %146
%149 = OpLoad %t_vec4 %100
%150 = OpCompositeInsert %t_vec4 %148 %149 2
%152 = OpCompositeConstruct %t_bvec4 %137 %137 %137 %137
%151 = OpSelect %t_vec4 %152 %150 %149
OpStore %100 %151
%153 = OpLogicalNot %t_bool %116
%154 = OpLoad %t_float %101
%156 = OpFOrdLessThan %t_bool %154 %155
%157 = OpLogicalAnd %t_bool %153 %156
%159 = OpLoad %t_vec4 %100
%160 = OpCompositeInsert %t_vec4 %158 %159 0
%162 = OpCompositeConstruct %t_bvec4 %157 %157 %157 %157
%161 = OpSelect %t_vec4 %162 %160 %159
OpStore %100 %161
%164 = OpLoad %t_vec4 %100
%165 = OpCompositeInsert %t_vec4 %163 %164 1
%167 = OpCompositeConstruct %t_bvec4 %157 %157 %157 %157
%166 = OpSelect %t_vec4 %167 %165 %164
OpStore %100 %166
%169 = OpLoad %t_vec4 %100
%170 = OpCompositeInsert %t_vec4 %168 %169 2
%172 = OpCompositeConstruct %t_bvec4 %157 %157 %157 %157
%171 = OpSelect %t_vec4 %172 %170 %169
OpStore %100 %171
%173 = OpLogicalNot %t_bool %156
%174 = OpLogicalAnd %t_bool %153 %173
%176 = OpLoad %t_vec4 %100
%177 = OpCompositeInsert %t_vec4 %175 %176 0
%179 = OpCompositeConstruct %t_bvec4 %174 %174 %174 %174
%178 = OpSelect %t_vec4 %179 %177 %176
OpStore %100 %178
%181 = OpLoad %t_vec4 %100
%182 = OpCompositeInsert %t_vec4 %180 %181 1
%184 = OpCompositeConstruct %t_bvec4 %174 %174 %174 %174
%183 = OpSelect %t_vec4 %184 %182 %181
OpStore %100 %183
%186 = OpLoad %t_vec4 %100
%187 = OpCompositeInsert %t_vec4 %185 %186 2
%189 = OpCompositeConstruct %t_bvec4 %174 %174 %174 %174
%188 = OpSelect %t_vec4 %189 %187 %186
OpStore %100 %188
%190 = OpLoad %t_vec4 %100
OpStore %mglsl_FragColor %190
OpReturn
OpFunctionEnd
